{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nconst initialState = {\n  books: [],\n  status: null\n};\nexport const getBooks = createAsyncThunk(\"books/getBooks\", async () => {\n  const response = await axios(\"http://localhost:3001/api/books\");\n  return response.data.data;\n});\nexport const booksSlice = createSlice({\n  name: \"books\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getBooks.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getBooks.fulfilled]: (state, action) => {\n      state.books = action.payload;\n      state.status = \"success\";\n    },\n    [getBooks.rejected]: (state, action) => {\n      state.status = action.error.message;\n      toast.error(`There was an error while fetching books. ${action.error.message}`);\n    }\n  }\n});\nexport default booksSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","toast","initialState","books","status","getBooks","response","data","booksSlice","name","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","error","message","reducer"],"sources":["C:/Users/micha/Desktop/zadanie-react/front/src/redux/features/books/booksSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport interface Book {\n  id: number;\n  title: string;\n  author: string;\n  cover_url: string;\n  pages: number;\n  price: number;\n  currency: string;\n}\n\nexport interface BooksState {\n  books: Book[] | undefined;\n  status: string | null;\n}\n\nconst initialState: BooksState = {\n  books: [],\n  status: null,\n};\n\nexport const getBooks: any = createAsyncThunk(\"books/getBooks\", async () => {\n  const response = await axios(\"http://localhost:3001/api/books\");\n  return response.data.data;\n});\n\nexport const booksSlice = createSlice({\n  name: \"books\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getBooks.pending]: (state: BooksState, action: PayloadAction<Book[]>) => {\n      state.status = \"loading\";\n    },\n    [getBooks.fulfilled]: (\n      state: BooksState,\n      action: PayloadAction<Book[]>\n    ) => {\n      state.books = action.payload;\n      state.status = \"success\";\n    },\n    [getBooks.rejected]: (state: BooksState, action) => {\n      state.status = action.error.message;\n      toast.error(\n        `There was an error while fetching books. ${action.error.message}`\n      );\n    },\n  },\n});\n\nexport default booksSlice.reducer;\n\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA6D,kBAA7D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAiBA,MAAMC,YAAwB,GAAG;EAC/BC,KAAK,EAAE,EADwB;EAE/BC,MAAM,EAAE;AAFuB,CAAjC;AAKA,OAAO,MAAMC,QAAa,GAAGP,gBAAgB,CAAC,gBAAD,EAAmB,YAAY;EAC1E,MAAMQ,QAAQ,GAAG,MAAMN,KAAK,CAAC,iCAAD,CAA5B;EACA,OAAOM,QAAQ,CAACC,IAAT,CAAcA,IAArB;AACD,CAH4C,CAAtC;AAKP,OAAO,MAAMC,UAAU,GAAGT,WAAW,CAAC;EACpCU,IAAI,EAAE,OAD8B;EAEpCP,YAFoC;EAGpCQ,QAAQ,EAAE,EAH0B;EAIpCC,aAAa,EAAE;IACb,CAACN,QAAQ,CAACO,OAAV,GAAoB,CAACC,KAAD,EAAoBC,MAApB,KAAsD;MACxED,KAAK,CAACT,MAAN,GAAe,SAAf;IACD,CAHY;IAIb,CAACC,QAAQ,CAACU,SAAV,GAAsB,CACpBF,KADoB,EAEpBC,MAFoB,KAGjB;MACHD,KAAK,CAACV,KAAN,GAAcW,MAAM,CAACE,OAArB;MACAH,KAAK,CAACT,MAAN,GAAe,SAAf;IACD,CAVY;IAWb,CAACC,QAAQ,CAACY,QAAV,GAAqB,CAACJ,KAAD,EAAoBC,MAApB,KAA+B;MAClDD,KAAK,CAACT,MAAN,GAAeU,MAAM,CAACI,KAAP,CAAaC,OAA5B;MACAlB,KAAK,CAACiB,KAAN,CACG,4CAA2CJ,MAAM,CAACI,KAAP,CAAaC,OAAQ,EADnE;IAGD;EAhBY;AAJqB,CAAD,CAA9B;AAwBP,eAAeX,UAAU,CAACY,OAA1B"},"metadata":{},"sourceType":"module"}
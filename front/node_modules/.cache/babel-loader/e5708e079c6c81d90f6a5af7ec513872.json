{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\zadanie-react\\\\front\\\\src\\\\pages\\\\homepage\\\\books\\\\book\\\\Book.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Card, Button } from \"react-bootstrap\";\nimport { toast } from \"react-toastify\";\nimport { addBookToCart } from \"../../../../redux/features/cart/cartSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../../../redux/hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Book = props => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const cart = useAppSelector(state => state.cart);\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n  const [isAlreadyInCart, setIsAlreadyInCart] = useState(false);\n  useEffect(() => {\n    const thisBookInCart = cart.some(book => book.id === props.id);\n    setIsAlreadyInCart(thisBookInCart);\n\n    if (isAlreadyInCart) {\n      setIsButtonDisabled(true);\n    }\n  }, [cart, props.id, isAlreadyInCart]);\n\n  const handleAddBookToCart = () => {\n    dispatch(addBookToCart(props));\n    toast.success(`You have successfully added ${props.title} to cart.`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"m-2 p-0\",\n    style: {\n      width: \"18rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n      variant: \"top\",\n      src: props.cover_url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      className: \"d-flex flex-column gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: props.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: `Pages: ${props.pages}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: `${props.price} ${props.currency} `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"mt-auto\",\n        disabled: isButtonDisabled,\n        variant: \"primary\",\n        onClick: handleAddBookToCart,\n        children: isButtonDisabled ? \"ALREADY ADDED\" : \"ADD TO CART\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Book, \"a5uE39zni8lyV4419JBsBYT8pUE=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n\n_c = Book;\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["useState","useEffect","Card","Button","toast","addBookToCart","useAppDispatch","useAppSelector","Book","props","dispatch","cart","state","isButtonDisabled","setIsButtonDisabled","isAlreadyInCart","setIsAlreadyInCart","thisBookInCart","some","book","id","handleAddBookToCart","success","title","width","cover_url","author","pages","price","currency"],"sources":["C:/Users/micha/Desktop/zadanie-react/front/src/pages/homepage/books/book/Book.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Book as BookInterface } from \"../../../../redux/features/books/booksSlice\";\r\nimport { addBookToCart } from \"../../../../redux/features/cart/cartSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../../redux/hooks\";\r\n\r\nexport const Book = (props: BookInterface) => {\r\n  const dispatch = useAppDispatch();\r\n  const cart = useAppSelector((state) => state.cart);\r\n  const [isButtonDisabled, setIsButtonDisabled] = useState<boolean>(false);\r\n  const [isAlreadyInCart, setIsAlreadyInCart] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    const thisBookInCart = cart.some(\r\n      (book: BookInterface) => book.id === props.id\r\n    );\r\n    setIsAlreadyInCart(thisBookInCart);\r\n    if (isAlreadyInCart) {\r\n      setIsButtonDisabled(true);\r\n    }\r\n  }, [cart, props.id, isAlreadyInCart]);\r\n\r\n  const handleAddBookToCart = () => {\r\n    dispatch(addBookToCart(props));\r\n    toast.success(`You have successfully added ${props.title} to cart.`);\r\n  };\r\n  return (\r\n    <Card className=\"m-2 p-0\" style={{ width: \"18rem\" }}>\r\n      <Card.Img variant=\"top\" src={props.cover_url} />\r\n      <Card.Body className=\"d-flex flex-column gap-2\">\r\n        <Card.Title>{props.title}</Card.Title>\r\n        <Card.Text>{props.author}</Card.Text>\r\n        <Card.Text>{`Pages: ${props.pages}`}</Card.Text>\r\n        <Card.Text>{`${props.price} ${props.currency} `}</Card.Text>\r\n        <Button\r\n          className=\"mt-auto\"\r\n          disabled={isButtonDisabled}\r\n          variant=\"primary\"\r\n          onClick={handleAddBookToCart}\r\n        >\r\n          {isButtonDisabled ? \"ALREADY ADDED\" : \"ADD TO CART\"}\r\n        </Button>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SAASC,aAAT,QAA8B,2CAA9B;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,yBAA/C;;AAEA,OAAO,MAAMC,IAAI,GAAIC,KAAD,IAA0B;EAAA;;EAC5C,MAAMC,QAAQ,GAAGJ,cAAc,EAA/B;EACA,MAAMK,IAAI,GAAGJ,cAAc,CAAEK,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAA3B;EACA,MAAM,CAACE,gBAAD,EAAmBC,mBAAnB,IAA0Cd,QAAQ,CAAU,KAAV,CAAxD;EACA,MAAM,CAACe,eAAD,EAAkBC,kBAAlB,IAAwChB,QAAQ,CAAU,KAAV,CAAtD;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMgB,cAAc,GAAGN,IAAI,CAACO,IAAL,CACpBC,IAAD,IAAyBA,IAAI,CAACC,EAAL,KAAYX,KAAK,CAACW,EADtB,CAAvB;IAGAJ,kBAAkB,CAACC,cAAD,CAAlB;;IACA,IAAIF,eAAJ,EAAqB;MACnBD,mBAAmB,CAAC,IAAD,CAAnB;IACD;EACF,CARQ,EAQN,CAACH,IAAD,EAAOF,KAAK,CAACW,EAAb,EAAiBL,eAAjB,CARM,CAAT;;EAUA,MAAMM,mBAAmB,GAAG,MAAM;IAChCX,QAAQ,CAACL,aAAa,CAACI,KAAD,CAAd,CAAR;IACAL,KAAK,CAACkB,OAAN,CAAe,+BAA8Bb,KAAK,CAACc,KAAM,WAAzD;EACD,CAHD;;EAIA,oBACE,QAAC,IAAD;IAAM,SAAS,EAAC,SAAhB;IAA0B,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAT,CAAjC;IAAA,wBACE,QAAC,IAAD,CAAM,GAAN;MAAU,OAAO,EAAC,KAAlB;MAAwB,GAAG,EAAEf,KAAK,CAACgB;IAAnC;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,IAAD,CAAM,IAAN;MAAW,SAAS,EAAC,0BAArB;MAAA,wBACE,QAAC,IAAD,CAAM,KAAN;QAAA,UAAahB,KAAK,CAACc;MAAnB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,IAAD,CAAM,IAAN;QAAA,UAAYd,KAAK,CAACiB;MAAlB;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE,QAAC,IAAD,CAAM,IAAN;QAAA,UAAa,UAASjB,KAAK,CAACkB,KAAM;MAAlC;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE,QAAC,IAAD,CAAM,IAAN;QAAA,UAAa,GAAElB,KAAK,CAACmB,KAAM,IAAGnB,KAAK,CAACoB,QAAS;MAA7C;QAAA;QAAA;QAAA;MAAA,QAJF,eAKE,QAAC,MAAD;QACE,SAAS,EAAC,SADZ;QAEE,QAAQ,EAAEhB,gBAFZ;QAGE,OAAO,EAAC,SAHV;QAIE,OAAO,EAAEQ,mBAJX;QAAA,UAMGR,gBAAgB,GAAG,eAAH,GAAqB;MANxC;QAAA;QAAA;QAAA;MAAA,QALF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CAvCM;;GAAML,I;UACMF,c,EACJC,c;;;KAFFC,I"},"metadata":{},"sourceType":"module"}